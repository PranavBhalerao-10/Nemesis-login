(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{152:function(e,t,n){},154:function(e,t,n){},156:function(e,t,n){},164:function(e,t){},166:function(e,t){},179:function(e,t){},181:function(e,t){},209:function(e,t){},210:function(e,t){},215:function(e,t){},217:function(e,t){},224:function(e,t){},243:function(e,t){},290:function(e,t,n){},291:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(145),r=n.n(a),s=(n(152),n(46)),o=n(6),i=n(29),l=n.n(i),u=n(47),j=n(16),b=(n(154),n(1));var d=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(j.a)(r,2),o=s[0],i=s[1];function d(){return(d=Object(u.a)(l.a.mark((function e(t){var c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("http://localhost:1337/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:o})});case 3:return c=e.sent,e.next=6,c.json();case 6:(a=e.sent).user?(localStorage.setItem("token",a.user),alert("Login successful"),window.location.href="/dashboard"):alert("Please check your username and password");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(b.jsxs)("div",{className:"login_page",children:[Object(b.jsx)("h1",{children:"Nemesis Login"}),Object(b.jsxs)("form",{onSubmit:function(e){return d.apply(this,arguments)},children:[Object(b.jsx)("input",{className:"form-control",value:n,onChange:function(e){return a(e.target.value)},type:"email",placeholder:"Email"}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{className:"form-control",value:o,onChange:function(e){return i(e.target.value)},type:"password",placeholder:"Password"}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"submit",value:"Login",className:"btn btn-primary"})]})]})};n(156);var h=function(){var e=Object(o.e)(),t=Object(c.useState)(""),n=Object(j.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(""),i=Object(j.a)(s,2),d=i[0],h=i[1],p=Object(c.useState)(""),O=Object(j.a)(p,2),m=O[0],f=O[1],x=Object(c.useState)(""),g=Object(j.a)(x,2),v=g[0],y=g[1],N=Object(c.useState)(""),S=Object(j.a)(N,2),w=S[0],k=S[1];function C(){return(C=Object(u.a)(l.a.mark((function t(n){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,fetch("http://localhost:1337/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,email:v,password:w,mobile:d,address:m})});case 3:return c=t.sent,t.next=6,c.json();case 6:"ok"===t.sent.status&&e.push("/login");case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(b.jsxs)("div",{className:"register_page",children:[Object(b.jsx)("h1",{children:"Nemesis Register"}),Object(b.jsxs)("form",{onSubmit:function(e){return C.apply(this,arguments)},children:[Object(b.jsx)("input",{className:"form-control",value:a,onChange:function(e){return r(e.target.value)},type:"text",placeholder:"Name",required:!0}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{className:"form-control",value:v,onChange:function(e){return y(e.target.value)},type:"email",placeholder:"Email",required:!0}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{className:"form-control",value:w,onChange:function(e){return k(e.target.value)},type:"password",placeholder:"Password",required:!0}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{className:"form-control",value:d,onChange:function(e){return h(e.target.value)},type:"mobile",placeholder:"Mobile Number",required:!0}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{className:"form-control",value:m,onChange:function(e){return f(e.target.value)},type:"text",placeholder:"Address",required:!0}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"submit",value:"Register",className:"btn btn-primary"})]})]})},p=n(147),O=n.n(p),m=n(75),f=n.n(m),x=(n(290),function(){var e=Object(o.e)(),t=Object(c.useState)([]),n=Object(j.a)(t,2),a=n[0],r=n[1];Object(c.useEffect)((function(){f.a.get("http://localhost:1337/api/read").then((function(e){r(e.data)}));var t=localStorage.getItem("token");t&&(O.a.decode(t)||(localStorage.removeItem("token"),e.replace("/login")))}));return Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{className:"center",children:"User List"}),Object(b.jsxs)("table",{className:"table table-striped",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Name"}),Object(b.jsx)("th",{children:"Email"}),Object(b.jsx)("th",{children:"Mobile Number"}),Object(b.jsx)("th",{children:"Address"}),Object(b.jsx)("th",{children:"Delete"})]})}),a.map((function(e,t){return Object(b.jsx)("tbody",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.name}),Object(b.jsx)("td",{children:e.email}),Object(b.jsx)("td",{children:e.mobile}),Object(b.jsx)("td",{children:e.address}),Object(b.jsx)("td",{children:Object(b.jsx)("button",{className:"btn btn-danger",onClick:function(){return t=e._id,void f.a.delete("http://localhost:1337/api/delete/".concat(t));var t},children:"Delete"})})]})},t)}))]})]})}),g=function(){return Object(b.jsx)("div",{children:Object(b.jsxs)(s.a,{children:[Object(b.jsx)(o.a,{path:"/login",exact:!0,component:d}),Object(b.jsx)(o.a,{path:"/register",exact:!0,component:h}),Object(b.jsx)(o.a,{path:"/dashboard",exact:!0,component:x})]})})};r.a.render(Object(b.jsx)(g,{}),document.getElementById("root"))}},[[291,1,2]]]);
//# sourceMappingURL=main.fead87bf.chunk.js.map